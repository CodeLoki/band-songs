<EuiPopover
    @isOpen={{this.isOpen}}
    @closePopover={{fn (mut this.isOpen) false}}
>
    <:button>
        <EuiHeaderLink
            @iconType={{this.icon}}
            @isActive={{this.isOpen}}
            {{on "click" (fn (mut this.isOpen) true)}}
        >
            Mode
        </EuiHeaderLink>
    </:button>
    <:content>
        <EuiFlexGroup @direction="column" @gutterSize="xs">
            {{#each this.modes as |item|}}
                <EuiFlexItem @grow={{false}}>
                    <EuiHeaderLink
                        @iconType={{item.icon}}
                        @isActive={{eq item.mode @mode}}
                        {{on "click" (fn this.changeMode item.mode)}}
                    >
                        {{item.text}}
                    </EuiHeaderLink>
                </EuiFlexItem>
            {{/each}}
        </EuiFlexGroup>
    </:content>
</EuiPopover>